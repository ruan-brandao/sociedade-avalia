<h2>Editar Perfil</h2>

<%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put }) do |f| %>
  <div class="form-group">
    <%= devise_error_messages! %>

    <div><%= f.label :email %><br />
    <%= f.email_field :email, :autofocus => true, class: "form-control" %>

    <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
      <div>Aguardando confirmação para: <%= resource.unconfirmed_email %></div>
    <% end %>

    <div class="field">
      <%= f.label :username %><br />
      <%= f.text_field :username, class: 'form-control' %>
    </div> 

    <div class="row">
      <div class="form-group col-md-6">
        <%= f.label :first_name %><br />
        <%= f.text_field :first_name, class: 'form-control' %>
      </div>

      <div class="form-group col-md-6">
        <%= f.label :last_name %><br />
        <%= f.text_field :last_name, class: 'form-control' %>
      </div>
    </div>

    <div class="row">
      <div class="form-group col-md-6">
        <%= f.label :city %><br />
        <%= f.text_field :city, class: 'form-control' %>
      </div>

      <div class="form-group col-md-6">
        <%= f.label :state %><br />
        <%= f.select :state, brazilian_states, {}, class: "form-control" %>
      </div>
    </div>

    <div>
      <%= f.label :profile_picture %><br />
      <%= f.file_field :profile_picture, class: 'btn btn-lg btn-block' %>
    </div>

    <% if current_user.politician? %>
    <% resource.political_party ||= PoliticalParty.new %>
      <div class="field">
        <%= f.label :political_party_id %><br />
        <%= f.select :political_party_id, parties, {}, class: "form-control" %>
      </div>
    <% end %>

    <div><%= f.submit "Atualizar", class: 'btn btn-lg btn-primary btn-block' %></div>
  </div>
<% end %>

<div class="shared-links">
  <%= link_to "Voltar", :back %>
</div>
